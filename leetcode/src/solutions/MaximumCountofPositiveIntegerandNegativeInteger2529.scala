package solutions

import leetcode.macros.Macros.logged
import pprint.pprintln
import solutions.Util.*

import scala.util.chaining.*

@scala.annotation.experimental
object MaximumCountofPositiveIntegerandNegativeInteger2529 {
  // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
  object Solution {
    import scala.collection.Searching.Found
    import scala.collection.Searching.InsertionPoint
    def maximumCount(nums: Array[Int]): Int = {
      implicit val ord = Ordering.Int
      val zInd = nums.search(0) match {
        case InsertionPoint(insertionPoint) => insertionPoint
        case Found(foundIndex) =>
          var fi = foundIndex
          while (fi >= 0 && nums(fi) == 0)
            fi -= 1
          fi += 1
          fi
      }
      val pInd = nums.search(1, zInd, nums.length) match {
        case InsertionPoint(insertionPoint) => insertionPoint
        case Found(foundIndex) =>
          var fi = foundIndex
          while (fi >= 0 && nums(fi) == 1)
            fi -= 1
          fi += 1
          fi
      }
      Math.max(zInd, nums.length - pInd)

    }
  }
  // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  object Sol2 {
    object Solution {
      import scala.collection.Searching.InsertionPoint
      def maximumCount(nums: Array[Int]): Int = {
        implicit val ord = Ordering.Int
        val InsertionPoint(zInd) = nums.view.map(_ * 2).search(0): @unchecked
        val InsertionPoint(pInd) =
          nums.view.map(_ * 2).search(1, zInd, nums.length): @unchecked
        Math.max(zInd, nums.length - pInd)

      }
    }
  }
  def main(args: Array[String]): Unit = {

    Solution
      .maximumCount(
        parseArrayInt(
          "[-2,-1,-1,1,2,3]"
        )
      )
      .pipe(pprintln(_))
    Solution
      .maximumCount(
        parseArrayInt(
          "[0,0,0]"
        )
      )
      .pipe(pprintln(_))
    Solution
      .maximumCount(
        parseArrayInt(
          "[-1983,-1981,-1977,-1976,-1970,-1970,-1968,-1968,-1964,-1955,-1953,-1952,-1952,-1950,-1948,-1947,-1944,-1939,-1915,-1914,-1911,-1901,-1900,-1896,-1895,-1885,-1884,-1883,-1882,-1881,-1872,-1869,-1868,-1862,-1854,-1847,-1841,-1840,-1838,-1833,-1832,-1824,-1822,-1820,-1816,-1804,-1799,-1796,-1793,-1792,-1791,-1788,-1788,-1782,-1782,-1779,-1777,-1766,-1766,-1766,-1764,-1762,-1762,-1759,-1759,-1756,-1753,-1751,-1748,-1745,-1734,-1732,-1728,-1721,-1720,-1717,-1712,-1708,-1708,-1705,-1702,-1691,-1686,-1683,-1680,-1680,-1678,-1672,-1668,-1668,-1652,-1651,-1649,-1648,-1647,-1645,-1643,-1628,-1623,-1608,-1606,-1600,-1598,-1598,-1592,-1587,-1585,-1572,-1571,-1555,-1553,-1539,-1532,-1532,-1526,-1523,-1523,-1509,-1501,-1496,-1496,-1491,-1481,-1477,-1472,-1471,-1464,-1454,-1442,-1440,-1424,-1423,-1418,-1416,-1414,-1400,-1399,-1392,-1388,-1383,-1382,-1377,-1373,-1358,-1354,-1350,-1347,-1347,-1345,-1343,-1340,-1339,-1337,-1334,-1329,-1324,-1323,-1313,-1308,-1306,-1303,-1293,-1291,-1279,-1272,-1270,-1266,-1261,-1259,-1256,-1253,-1250,-1248,-1234,-1233,-1231,-1229,-1228,-1220,-1217,-1216,-1214,-1211,-1202,-1200,-1197,-1186,-1186,-1177,-1172,-1170,-1169,-1166,-1166,-1164,-1163,-1163,-1157,-1150,-1142,-1134,-1122,-1116,-1112,-1109,-1101,-1093,-1089,-1086,-1085,-1084,-1074,-1070,-1069,-1065,-1064,-1060,-1060,-1055,-1047,-1041,-1040,-1035,-1030,-1029,-1015,-1012,-1011,-1005,-1004,-1002,-988,-986,-971,-970,-970,-968,-964,-961,-958,-946,-944,-933,-920,-916,-910,-910,-904,-903,-884,-879,-872,-871,-870,-868,-858,-847,-847,-845,-844,-841,-838,-825,-823,-819,-815,-809,-808,-808,-807,-805,-800,-798,-794,-794,-783,-775,-774,-766,-762,-737,-728,-724,-710,-710,-707,-706,-706,-697,-696,-696,-691,-688,-687,-685,-683,-683,-682,-681,-679,-674,-671,-670,-666,-666,-666,-654,-654,-649,-642,-638,-638,-636,-636,-632,-630,-629,-629,-628,-628,-625,-623,-621,-616,-613,-611,-611,-607,-600,-595,-592,-591,-583,-583,-576,-572,-566,-562,-561,-558,-556,-554,-540,-533,-533,-531,-524,-523,-518,-517,-512,-505,-498,-498,-498,-492,-490,-486,-483,-481,-480,-478,-469,-462,-459,-456,-448,-448,-443,-435,-430,-430,-430,-428,-423,-415,-413,-410,-408,-403,-397,-389,-387,-383,-381,-381,-378,-378,-376,-371,-370,-369,-366,-361,-357,-349,-340,-338,-338,-333,-332,-323,-323,-318,-318,-309,-308,-305,-299,-293,-290,-288,-282,-282,-280,-278,-276,-269,-267,-267,-262,-261,-257,-252,-243,-239,-239,-237,-237,-233,-231,-223,-218,-218,-215,-215,-215,-214,-211,-207,-203,-199,-195,-193,-191,-191,-190,-179,-169,-167,-163,-160,-155,-134,-129,-127,-126,-123,-120,-117,-116,-115,-112,-112,-108,-96,-95,-88,-79,-72,-69,-63,-53,-53,-42,-42,-42,-41,-40,-39,-37,-32,-24,-20,-19,-18,-10,-10,-5,-5,-4,1,2,7,8,9,9,11,13,15,30,34,48,49,50,50,54,57,60,62,68,71,71,74,78,78,82,88,96,99,109,112,112,118,120,120,121,122,125,125,136,139,139,146,146,148,149,150,151,152,152,153,153,155,162,165,169,173,174,175,180,183,184,185,188,188,189,190,190,194,194,196,198,203,205,216,217,220,223,223,231,233,236,237,239,241,248,248,248,250,252,254,266,279,279,288,292,293,300,306,308,310,310,313,315,315,318,319,320,321,322,324,329,337,338,339,340,346,349,350,355,355,359,374,379,384,396,402,402,406,409,412,419,422,426,431,434,436,441,442,442,444,448,459,460,470,471,471,476,476,476,479,481,486,489,503,527,531,536,545,548,566,567,569,579,579,599,600,605,608,610,622,623,632,635,636,640,641,646,647,648,656,658,664,668,669,672,674,674,675,675,677,677,683,683,686,697,708,708,715,716,716,721,722,722,727,746,748,753,756,756,768,769,775,784,784,789,793,796,800,801,813,818,821,821,826,829,836,839,855,858,860,868,869,869,873,873,878,882,887,891,900,902,906,912,915,930,936,939,944,947,948,952,953,957,958,961,963,963,966,967,967,970,972,973,983,985,991,993,1000,1000,1002,1005,1007,1015,1017,1023,1026,1030,1035,1039,1040,1052,1052,1055,1058,1066,1067,1068,1080,1080,1086,1091,1101,1110,1116,1124,1128,1128,1128,1131,1135,1144,1150,1152,1153,1153,1155,1161,1168,1170,1173,1175,1177,1178,1183,1192,1196,1199,1199,1214,1218,1243,1243,1248,1256,1261,1262,1263,1265,1272,1277,1285,1290,1301,1302,1303,1305,1307,1319,1323,1347,1349,1351,1352,1355,1356,1359,1360,1367,1372,1391,1392,1397,1398,1402,1408,1409,1414,1417,1418,1419,1421,1430,1432,1438,1442,1444,1447,1454,1460,1461,1466,1468,1470,1476,1479,1482,1486,1492,1493,1496,1498,1498,1502,1509,1510,1518,1518,1524,1525,1526,1526,1534,1554,1557,1560,1561,1565,1572,1574,1575,1575,1575,1579,1590,1593,1600,1600,1603,1605,1611,1616,1624,1625,1625,1626,1628,1632,1635,1639,1640,1641,1656,1657,1667,1668,1675,1679,1681,1684,1693,1700,1705,1717,1723,1732,1735,1745,1747,1754,1755,1757,1760,1767,1768,1774,1778,1779,1781,1787,1791,1792,1792,1793,1799,1799,1806,1807,1815,1817,1820,1822,1822,1822,1824,1832,1843,1845,1847,1847,1850,1851,1859,1868,1869,1872,1880,1886,1890,1891,1899,1899,1908,1909,1917,1917,1926,1929,1939,1944,1948,1949,1953,1958,1963,1965,1966,1966,1968,1970,1974,1987,1990,1998,1998,1999,1999,2000,2000]"
        )
      )
      .pipe(pprintln(_))
  }

}
